@startuml analysis

class Connect4 {

    + Connect4()
    + play()
}
Connect4 *-down-> Game
Connect4 *-down-> GameView
Connect4 *-down-> YesNoDialog

class YesNoDialog #LightGreen {          
    + answer    

    + YesNoDialog()
    + ask()
    + isAffirmative()
}
YesNoDialog ..> Messages

class GameView #LightGreen {
    + GameView(game)
    + play()
}
GameView -right-> Game
GameView *-down-> PlayerView
GameView *-down-> BoardView
GameView ..> Messages
GameView ..> Coordinate

class PlayerView #LightGreen {
    + PlayerView(game)
    + readToken()
    + end()
}
PlayerView -right-> Game
PlayerView ..> Player
PlayerView *-down-> LimitedIntDialog : columnDialog
PlayerView ..> Messages
PlayerView ..> Coordinate

class BoardView #LightGreen {
    + VERTICAL
    + HORIZONTAL
    + CHARS_IN_CELL_PATTERN

    + BoardView(game)
    + show()
}
BoardView --> Board
BoardView ..> Game
BoardView ..> Coordinate

class Game #Wheat{  

    + Game()
    + reset()   
    + changeTurn()
    + getPlayer()    
    + isColumnFull(column)     
    + getBoard()            
}
Game *-down-> Turn
Game *-down-> Board
Game ..> Player

class Turn #Wheat{
    + index

    + Turn(players)  
    + getPlayer()  
    + change()   
    + reset() 
}
Turn --> "tokens.length" Player

class Player #Wheat{
    + token

    + Player(token, board)
    + placeToken(column)
    + isWinner()
    + toString()
}
Player --> Board

class Board #Wheat{
    + tokenCoordinatesMap
    
    + Board(tokens)
    + placeToken(token, column)
    + isColumnFull(column)
    + getToken(coordinate) 
    + isWinner(token)  
    + reset()    
}
Board ..> Coordinate
Board ..> Direction

class Direction #LightGray{
    + {static} toTop
    + rowShift
    + columnShift

    + {static} getAll()
    + Direction(rowShift, columnShift)
    + inverse()
    + getRowShift()
    + getColumnShift()
}

class Coordinate #LightGray{
    + {static} ROW_DIMENSION
    + {static} COLUMN_DIMENSION
    + {static} MIN
    + row
    + column 

    + {static} isValidRow(row)
    + {static} isValidColumn(column)
    + {static} createTop(column)
    + {static} createBotton(column)
    + Coordinate(row, column)
    + getShifteds(direction, maxLength)
    + isShiftedInDimension(direction)
    + shift(direction)
    + equals(other)   
    + getRow()
    + getColumn()
}
Coordinate ..> Direction
Coordinate ..> IntervalClosed


enum Messages

class LimitedIntDialog #LightGreen {    
    + initLimitedIntDialog(max, min = 1) 
    + ask(msg)
}
LimitedIntDialog *-down-> IntervalClosed : limits
LimitedIntDialog ..> Messages

class IntervalClosed #LightGray{
    + max
    + min

    + IntervalClosed(max, min = 0)
    + includes(value)
    + toString()
}

@enduml